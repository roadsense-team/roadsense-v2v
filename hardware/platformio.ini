; PlatformIO Project Configuration File
; RoadSense V2V Enhanced System
; Firmware for ESP32 with MPU9250 (9-axis IMU) + GPS + ML inference
;
; Platform: ESP32 DevKit
; Framework: Arduino
; Sensors: MPU9250 (IMU), NEO-6M (GPS)
; Communication: ESP-NOW mesh networking
; ML: TensorFlow Lite Micro

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Serial monitor settings
monitor_speed = 115200
monitor_filters = colorize, time
; Note: monitor_flags is deprecated, using monitor_filters instead

; Build settings
build_flags =
	-DCORE_DEBUG_LEVEL=5
	-DNUM_VEHICLES=3

; Source filter
build_src_filter =
	+<*>
	+<**/*.cpp>

; Library dependencies
lib_deps =
	; 9-axis IMU (MPU9250 with magnetometer)
	bolderflight/Bolder Flight Systems MPU9250@^1.0.2

	; GPS parsing
	mikalhart/TinyGPSPlus@^1.0.3

	; JSON serialization (for debugging, optional)
	bblanchon/ArduinoJson@^6.21.0

	; TensorFlow Lite Micro for ML inference
	; Note: Will be added when ML integration begins (Phase 4)
	; tensorflow/tflite-micro@^2.15.0

; Upload settings (customize per vehicle)
; Uncomment and modify for your setup:
; upload_port = COM3        ; Windows
; upload_port = /dev/ttyUSB0  ; Linux
; upload_speed = 921600
